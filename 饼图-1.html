<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script src="../project/n0fgix/js/lib/jquery.js"></script>
<style type="text/css">
 canvas{position:absolute;letf:0;right:0;}
 .test{position:absolute;top:100px;left:200px;}


</style>
<title>饼图</title>
</head>

<body>
<div class='test' style="border:1px solid #ccc;"></div>
<script type="text/javascript">
var data=[
	  ['Javascript',.2,'#ccc'],
	  ['HTML/CSS',.3,'#99c0ff'],
	  ['HTML5',.35,'yellow'], 
	  ['CSS3',.15,'red'],
	 
];
var w=400;
var h=400;
var r=w/2;
$('.test').css('width',w).css('height',h);

$(function(){
var cns=document.createElement('canvas');
var ctx=cns.getContext('2d');
cns.width=400;
cns.height=400;
$('.test').append(cns);

var step=data.length;
console.log(step);


for(var i=0;i<step;i++){
	ctx.beginPath();
	
	var sAngle=0;
	var aAngle=data[i][1]*2*Math.PI;

	var eAngle=sAngle+aAngle;
	
	ctx.moveTo(r,r);
	
	ctx.arc(r,r,r,sAngle,eAngle)
	ctx.fillStyle=data[i][2];
	
	ctx.fill();
	sAngle=eAngle;
	console.log(sAngle)
	
}







});
</script>


</body>
</html>
